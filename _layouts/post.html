---
layout: default
---
<section class="page-course" id="slidesCover">
{{ content }}
<a href="/{{page.categories}}#{{page.difficulty}}" class="label">{{page.categories}} / {% t difficulty.{{page.difficulty}} %}</a>
<div>
  <h2>{{page.title}}</h2>
  <a href="/" class="button button-export">PDFで見る</a>
</div>
<div id='slides'>
  <div class="slide"></div>
  {% for slide in page.slides %}
    {% assign firstword = slide | split: "/" | first %}
    {% if firstword == '' %}
    <img src="/assets/course/{{ page.categories }}/{{ page.course-name }}{{ slide }}" loading="lazy" alt="" id="page-{{forloop.index}}" style="display:none;">
    {% elsif firstword == 'https:' %}
    <iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/{{slide | split: '/' | last}}?rel=0&fs=0&modestbranding=1&enablejsapi=1&disablekb=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="display:none;" id="page-{{forloop.index}}"></iframe>
    {% endif %}
  {% endfor %}
</div>
<div class="progress-bar">
  <div id="progress-container">
  </div>
</div>
<span id="progress-number">1/10</span>
<div class="slide-buttons">
  <input class="button button-back" type="button" value="もどる" onclick="back()" id="buttonBack" disabled/>
  <input class="button button-next" type="button" value="すすむ" onclick="next()" id="buttonNext"/>
</div>
</section>
<section>
  {% assign subcourses = site.posts | where_exp:"c",
  "c.parent == page.course-name" %}
  {% if subcourses.size > 0 %}
  <h2>拡張コース</h2>
  <ul class="course-list">
  {% for course in subcourses %}
  <li><a href="{{course.url}}"><img src="/assets/course/{{ course.categories }}/{{ course.course-name }}{{ course.thumbnail }}" alt="{{ course.title }}">{{course.title}}</a></li>
  {% endfor %}
  {% endif %}
  </ul>
</section>
<script>
var now = 1;
function set() {
  document.getElementById("page-1").style.display ="block";
  document.getElementById("progress-container").style.width = (now / {{ page.slides.size }}) * 100 + "%";
  document.getElementById("progress-number").innerHTML = now +" / "+ {{ page.slides.size }};
}

window.onload = set;
function next() {
  document.activeElement.blur();
  if(document.getElementById("page-"+(now+1)) != null){
    document.getElementById("page-"+now).style.display ="none";
    document.getElementById("page-"+(now+1)).style.display="block";
    now += 1;
    document.getElementById("progress-container").style.width = (now / {{ page.slides.size }}) * 100 + "%";
    document.getElementById("progress-number").innerHTML = now +" / "+ {{ page.slides.size }};
    document.getElementById("buttonNext").disabled = true;
    if(now != {{ page.slides.size }}){
      document.getElementById("buttonNext").disabled = false;
    }
    document.getElementById("buttonBack").disabled = false;
  }
}
function back() {
  document.activeElement.blur();
  if(now > 1){
    document.getElementById("page-"+now).style.display ="none";
    document.getElementById("page-"+(now-1)).style.display="block";
    now -= 1;
    document.getElementById("progress-container").style.width = (now / {{ page.slides.size }}) * 100 + "%";
    document.getElementById("progress-number").innerHTML = now +" / "+ {{ page.slides.size }};
    document.getElementById("buttonBack").disabled = true;
    if(now != 1){
      document.getElementById("buttonBack").disabled = false;
    }
    document.getElementById("buttonNext").disabled = false;
  }
}

// 矢印キーでのページ切り替え
window.document.onkeydown = function(event){
    if (event.key === 'ArrowRight' || event.key === ' ') {
        next()
      }
    else if (event.key === 'ArrowLeft') {
        back()
         }
      }
</script>
